{"version":3,"sources":["../src/core/lib/encryption.ts","../src/core/send-transaction-with-paymaster.ts","../src/core/create-wallet.ts","../src/core/chipi-sdk.ts","../src/react/context/chipi-provider.tsx","../src/react/hooks/use-create-wallet.ts","../src/react/hooks/use-transfer.ts","../src/react/hooks/use-approve.ts","../src/react/hooks/use-stake.ts","../src/react/hooks/use-withdraw.ts","../src/react/hooks/use-call-any-contract.ts"],"names":["RpcProvider","Account","useMutation"],"mappings":"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","file":"chunk-HKU5RVDN.mjs","sourcesContent":["import CryptoJS from \"crypto-js\";\n\nexport const encryptPrivateKey = (\n  privateKey: string,\n  password: string,\n): string => {\n  if (!privateKey || !password) {\n    throw new Error(\"Private key and password are required\");\n  }\n\n  return CryptoJS.AES.encrypt(privateKey, password).toString();\n};\n\nexport const decryptPrivateKey = (\n  encryptedPrivateKey: string,\n  password: string,\n): string | null => {\n  if (!encryptedPrivateKey || !password) {\n    console.error(\"Encrypted private key and password are required\");\n    return null;\n  }\n\n  try {\n    const bytes = CryptoJS.AES.decrypt(encryptedPrivateKey, password);\n    const decrypted = bytes.toString(CryptoJS.enc.Utf8);\n\n    // Check if the decrypted string is empty\n    if (!decrypted) {\n      return null;\n    }\n\n    return decrypted;\n  } catch (error) {\n    console.error(\"Decryption failed:\", error);\n    return null;\n  }\n};\n","import { Account, Call, RpcProvider } from \"starknet\";\nimport { decryptPrivateKey } from \"./lib/encryption\";\n\nexport interface ExecuteTransactionParams {\n  encryptKey: string;\n  secretKey: string;\n  apiKey: string;\n  wallet: {\n    publicKey: string;\n    encryptedPrivateKey: string;\n  }; //ClerkWallet;\n  calls: Call[];\n  appId: string;\n}\n\nexport const executePaymasterTransaction = async (\n  params: ExecuteTransactionParams\n): Promise<string> => {\n  try {\n    const { encryptKey, wallet, calls, secretKey, apiKey, appId } = params;\n    console.log(\"Params: \", params);\n    // Fetch the encrypted private key from clerk public metadata\n    const privateKeyDecrypted = decryptPrivateKey(\n      wallet.encryptedPrivateKey,\n      encryptKey\n    );\n\n    if (!privateKeyDecrypted) {\n      throw new Error(\"Failed to decrypt private key\");\n    }\n\n    const provider = new RpcProvider({\n      nodeUrl: \"https://cloud.argent-api.com/v1/starknet/mainnet/rpc/v0.7\",\n    });\n\n    const account = new Account(\n      provider,\n      wallet.publicKey,\n      privateKeyDecrypted\n    );\n\n    // Build the type data\n    // TODO: Call to the API to get the type data\n    const typeDataResponse = await fetch(\"https://chipi-back-production.up.railway.app/transactions/prepare-typed-data\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${secretKey}`,\n        'X-API-Key': apiKey,\n      },\n      body: JSON.stringify({\n        publicKey: wallet.publicKey,\n        calls: calls,\n        accountClassHash: \"0x036078334509b514626504edc9fb252328d1a240e4e948bef8d0c08dff45927f\"\n      }),\n    });\n\n    if (!typeDataResponse.ok) {\n      const errorText = await typeDataResponse.text();\n      throw new Error(`Error en la API: ${errorText}`);\n    }\n\n    const typeData = await typeDataResponse.json();\n    // console.log('Type data recibido:', typeData.Calls);\n\n    // Sign the message\n    const userSignature = await account.signMessage(typeData);\n    //console.log(\"User signature: \", userSignature);\n\n\n   \n    // Execute the transaction\n    const executeTransaction = await fetch(\"https://chipi-back-production.up.railway.app/transactions/execute-sponsored-transaction\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${secretKey}`,\n        'X-API-Key': apiKey,\n      },\n      body: JSON.stringify({\n        publicKey: wallet.publicKey,\n        typeData: typeData,\n        userSignature: {\n          r: (userSignature as any).r.toString(),\n          s: (userSignature as any).s.toString(),\n          recovery: (userSignature as any).recovery\n        },\n        appId: appId\n      }),\n    });\n\n    if (!executeTransaction.ok) {\n      const errorText = await executeTransaction.text();\n      throw new Error(`Error en la API de ejecución: ${errorText}`);\n    }\n\n    const result = await executeTransaction.json();\n    // console.log('Resultado de la transacción:', result);\n    \n    if (!result.transactionHash) {\n      throw new Error('La respuesta no contiene el hash de la transacción');\n    }\n\n    return result.transactionHash;\n  } catch (error) {\n    console.error(\"Error sending transaction with paymaster\", error);\n    throw error;\n  }\n};\n","import type { DeploymentData } from \"@avnu/gasless-sdk\";\nimport {\n  Account,\n  CairoCustomEnum,\n  CairoOption,\n  CairoOptionVariant,\n  CallData,\n  ec,\n  hash,\n  num,\n  RpcProvider,\n  stark,\n} from \"starknet\";\nimport { encryptPrivateKey } from \"./lib/encryption\";\nimport { CreateWalletParams, CreateWalletResponse, WalletData } from \"./types\";\n\n\nexport const createArgentWallet = async (\n   params: CreateWalletParams\n): Promise<CreateWalletResponse> => {\n\n  // console.log(\"create wallet Params: \", params);\n  try {\n    const { encryptKey, apiKey, secretKey, appId, nodeUrl } = params;\n   \n    const provider = new RpcProvider({ nodeUrl: nodeUrl });\n    // Generating the private key with Stark Curve\n    const privateKeyAX = stark.randomAddress();\n    const starkKeyPubAX = ec.starkCurve.getStarkKey(privateKeyAX);\n\n    // Using Argent X Account v0.4.0 class hash\n    const accountClassHash = \"0x036078334509b514626504edc9fb252328d1a240e4e948bef8d0c08dff45927f\" //params.argentClassHash;\n  \n    // Calculate future address of the ArgentX account\n    const axSigner = new CairoCustomEnum({\n      Starknet: { pubkey: starkKeyPubAX },\n    });\n    // Set the dApp Guardian address\n    const axGuardian = new CairoOption<unknown>(CairoOptionVariant.None);\n\n    const AXConstructorCallData = CallData.compile({\n      owner: axSigner,\n      guardian: axGuardian,\n    });\n\n    const contractAddress = hash.calculateContractAddressFromHash(\n      starkKeyPubAX,\n      accountClassHash,\n      AXConstructorCallData,\n      0\n    );\n    // console.log(\"Contract address: \", contractAddress);\n   \n    // Initiating Account\n    const account = new Account(provider, contractAddress, privateKeyAX);\n    // console.log(\"Account \", { ...account });\n\n    // Backend Call API to create the wallet\n    const typeDataResponse = await fetch(\"https://chipi-back-production.up.railway.app/chipi-wallets/prepare-creation\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${secretKey}`,\n        'X-API-Key': apiKey,\n      },\n      body: JSON.stringify({\n        publicKey: contractAddress,\n        appId: appId,\n      }),\n    });\n    const { typeData, accountClassHash: accountClassHashResponse } = await typeDataResponse.json();\n\n    // console.log(\"Type data: \", typeData);\n    // Sign the message\n    const userSignature = await account.signMessage(typeData);\n\n    // console.log(\"User signature: \", userSignature);\n    const deploymentData: DeploymentData = {\n      class_hash: accountClassHashResponse,\n      salt: starkKeyPubAX,\n      unique: `${num.toHex(0)}`,\n      calldata: AXConstructorCallData.map((value) => num.toHex(value)),\n    };\n\n    // console.log(\"Deployment data: ------ \", deploymentData);\n    const encryptedPrivateKey = encryptPrivateKey(privateKeyAX, encryptKey);\n    // console.log(\"Encrypted private key: \", encryptedPrivateKey);\n\n    // Llamar a la API para guardar la wallet en dashboard\n    const executeTransactionResponse = await fetch(\"https://chipi-back-production.up.railway.app/chipi-wallets\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${secretKey}`,\n        'X-API-Key': apiKey,\n      },\n      body: JSON.stringify({\n        publicKey: `${contractAddress}`,\n        userSignature: {\n          r: (userSignature as any).r.toString(),\n          s: (userSignature as any).s.toString(),\n          recovery: (userSignature as any).recovery\n        },\n        typeData,\n        appId: appId,\n        encryptedPrivateKey,\n        deploymentData: {\n          ...deploymentData,\n          salt: `${deploymentData.salt}`,\n          calldata: deploymentData.calldata.map(data => `${data}`),\n        }\n      }),\n    });\n    const executeTransaction = await executeTransactionResponse.json();\n    console.log(\"Execute transaction: \", executeTransaction);\n\n    if (executeTransaction.success) {\n    return {\n      success: true,\n      txHash: executeTransaction.txHash,\n      wallet: {\n        publicKey: contractAddress,\n        encryptedPrivateKey: encryptedPrivateKey,\n      } as WalletData,\n      };\n    } else {\n      return {\n        success: false,\n        txHash: \"\",\n        wallet: {\n          publicKey: \"\",\n          encryptedPrivateKey: \"\",\n        } as WalletData,\n      };\n    }\n  } catch (error: unknown) {\n    console.error(\"Error detallado:\", error);\n\n    if (error instanceof Error && error.message.includes(\"SSL\")) {\n      throw new Error(\n        \"Error de conexión SSL. Intenta usando NODE_TLS_REJECT_UNAUTHORIZED=0 o verifica la URL del RPC\"\n      );\n    }\n\n    throw new Error(\n      `Error creating Argent wallet: ${\n        error instanceof Error ? error.message : \"Unknown error\"\n      }`\n    );\n  }\n};\n","import { cairo, type Call, type Uint256 } from \"starknet\";\nimport {\n  executePaymasterTransaction,\n  ExecuteTransactionParams,\n} from \"./send-transaction-with-paymaster\";\nimport type {\n  ApproveParams,\n  CallAnyContractParams,\n  ChipiSDKConfig,\n  CreateWalletParams,\n  StakeParams,\n  TransactionResult,\n  TransferParams,\n  WithdrawParams,\n} from \"./types\";\nimport { createArgentWallet } from \"./create-wallet\";\nimport { CreateWalletResponse } from \"./types\";\n\nexport class ChipiSDK {\n  private apiKey: string;\n  private secretKey: string;\n  private appId: string;\n  private readonly nodeUrl = \"https://starknet-mainnet.public.blastapi.io/rpc/v0_7\";\n\n  constructor(config: ChipiSDKConfig) {\n    this.apiKey = config.apiKey;\n    this.secretKey = config.secretKey;\n    this.appId = config.appId;\n  }\n\n  private formatAmount(amount: string | number, decimals: number = 18): Uint256 {\n    const amountStr = amount.toString();\n    const [integerPart, decimalPart = ''] = amountStr.split('.');\n    const paddedDecimal = decimalPart.padEnd(decimals, '0').slice(0, decimals);\n    const amountBN = BigInt(integerPart + paddedDecimal);\n\n    return cairo.uint256(amountBN);\n  }\n\n  async executeTransaction(input: Omit<ExecuteTransactionParams, 'apiKey' | 'secretKey' | 'appId'>): Promise<string> {\n    return executePaymasterTransaction({\n      ...input,\n      apiKey: this.apiKey,\n      secretKey: this.secretKey,\n      appId: this.appId,\n    });\n  }\n\n  async transfer(params: Omit<TransferParams, 'apiKey' | 'secretKey' | 'appId'>): Promise<string> {\n    return this.executeTransaction({\n      encryptKey: params.encryptKey,\n      wallet: params.wallet,\n      calls: [\n        {\n          contractAddress: params.contractAddress,\n          entrypoint: \"transfer\",\n          calldata: [\n            params.recipient,\n            this.formatAmount(params.amount, params.decimals),\n          ],\n        },\n      ],\n    });\n  }\n\n  async approve(params: Omit<ApproveParams, 'apiKey' | 'secretKey' | 'appId'>): Promise<string> {\n    return this.executeTransaction({\n      encryptKey: params.encryptKey,\n      wallet: params.wallet,\n      calls: [\n        {\n          contractAddress: params.contractAddress,\n          entrypoint: \"approve\",\n          calldata: [\n            params.spender,\n            this.formatAmount(params.amount, params.decimals),\n          ],\n        },\n      ],\n    });\n  }\n\n  async stake(params: Omit<StakeParams, 'apiKey' | 'secretKey' | 'appId'>): Promise<string> {\n    return this.executeTransaction({\n      encryptKey: params.encryptKey,\n      wallet: params.wallet,\n      calls: [\n        {\n          contractAddress: params.contractAddress,\n          entrypoint: \"deposit\",\n          calldata: [\n            this.formatAmount(params.amount, params.decimals),\n            params.recipient,\n          ],\n        },\n      ],\n    });\n  }\n\n  async withdraw(params: Omit<WithdrawParams, 'apiKey' | 'secretKey' | 'appId'>): Promise<string> {\n    return this.executeTransaction({\n      encryptKey: params.encryptKey,\n      wallet: params.wallet,\n      calls: [\n        {\n          contractAddress: params.contractAddress,\n          entrypoint: \"withdraw\",\n          calldata: [\n            this.formatAmount(params.amount, params.decimals),\n            params.recipient,\n          ],\n        },\n      ],\n    });\n  }\n\n  async callAnyContract(params: Omit<CallAnyContractParams, 'apiKey' | 'secretKey' | 'appId'>): Promise<string> {\n    return this.executeTransaction({\n      encryptKey: params.encryptKey,\n      wallet: params.wallet,\n      calls: params.calls,\n    });\n  }\n\n  async createWallet(encryptKey: string): Promise<CreateWalletResponse> {\n    return createArgentWallet({\n      encryptKey: encryptKey,\n      apiKey: this.apiKey,\n      secretKey: this.secretKey,\n      appId: this.appId,\n      nodeUrl: this.nodeUrl,\n    });\n  }\n}\n\n// Export types\n// export type { ChipiSDKConfig, WalletData, TransactionResult };","import { createContext, useContext } from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ChipiSDK } from '../../core/chipi-sdk';\n\nexport interface ChipiSDKConfig {\n  apiKey: string;\n  secretKey: string;\n  appId: string;\n}\n\ninterface ChipiContextValue {\n  config: ChipiSDKConfig;\n  chipiSDK: ChipiSDK;\n}\n\nconst ChipiContext = createContext<ChipiContextValue | null>(null);\nconst queryClient = new QueryClient();\n\nexport function ChipiProvider({ \n  children, \n  config \n}: { \n  children: React.ReactNode;\n  config: ChipiSDKConfig;\n}) {\n  if (!config.apiKey || !config.secretKey || !config.appId) {\n    throw new Error('Chipi SDK apiKey, secretKey and appId are required');\n  }\n\n  const chipiSDK = new ChipiSDK({\n    apiKey: config.apiKey,\n    secretKey: config.secretKey,\n    appId: config.appId,\n  });\n\n  return (\n    <ChipiContext.Provider value={{ config, chipiSDK }}>\n      <QueryClientProvider client={queryClient}>\n        {children}\n      </QueryClientProvider>\n    </ChipiContext.Provider>\n  );\n}\n\nexport function useChipiContext() {\n  const context = useContext(ChipiContext);\n  if (!context) {\n    throw new Error('useChipiContext must be used within a ChipiProvider');\n  }\n  return context;\n}","import { useMutation } from \"@tanstack/react-query\";\nimport { useChipiContext } from \"../context\";\nimport { CreateWalletResponse } from \"../../core\";\n\nexport function useCreateWallet() {\n  const { chipiSDK } = useChipiContext();\n\n  const mutation = useMutation<CreateWalletResponse, Error, string>({\n    mutationFn: async (encryptKey: string) => {\n      const response = await chipiSDK.createWallet(encryptKey);\n      \n      // Asegurarnos de que la respuesta tenga la estructura correcta\n      if (!response || !response.wallet) {\n        throw new Error(\"Invalid response from SDK\");\n      }\n\n      return {\n        success: response.success,\n        txHash: response.txHash,\n        wallet: {\n          publicKey: typeof response.wallet === 'string' ? response.wallet : response.wallet.publicKey,\n          encryptedPrivateKey: response.wallet.encryptedPrivateKey\n        }\n      };\n    },\n  });\n\n  return {\n    createWallet: mutation.mutate,\n    createWalletAsync: mutation.mutateAsync,\n    createWalletResponse: mutation.data,\n    isLoading: mutation.isPending,\n    isError: mutation.isError,\n  };\n}","import { useMutation } from \"@tanstack/react-query\";\nimport { useChipiContext } from \"../context\";\nimport { TransferParams } from \"../../core\";\n\n\n\n\nexport function useTransfer() {\n  const { chipiSDK } = useChipiContext();\n\n  const mutation = useMutation({\n    mutationFn: (params: TransferParams) => chipiSDK.transfer(params),\n  });\n\n  return {\n    transfer: mutation.mutate,\n    transferAsync: mutation.mutateAsync,\n    transferData: mutation.data,\n    isLoading: mutation.isPending,\n    isError: mutation.isError,\n  };\n}","\n\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useChipiContext } from \"../context\";\nimport { ApproveParams } from \"../../core\";\n\n\n\n\nexport function useApprove() {\n  const { chipiSDK } = useChipiContext();\n\n  const mutation = useMutation({\n    mutationFn: (params: ApproveParams) => chipiSDK.approve(params),\n  });\n\n  return {\n    approve: mutation.mutate,\n    approveAsync: mutation.mutateAsync,\n    approveData: mutation.data,\n    isLoading: mutation.isPending,\n    isError: mutation.isError,\n  };\n}\n","import { useMutation } from \"@tanstack/react-query\";\nimport { useChipiContext } from \"../context\";\nimport { StakeParams } from \"../../core\";\n\n\n\n\nexport function useStake() {\n  const { chipiSDK } = useChipiContext();\n\n  const mutation = useMutation({\n    mutationFn: (params: StakeParams) => chipiSDK.stake(params),\n  });\n\n  return {\n    stake: mutation.mutate,\n    stakeAsync: mutation.mutateAsync,\n    stakeData: mutation.data,\n    isLoading: mutation.isPending,\n    isError: mutation.isError,\n  };\n}","import { useMutation } from \"@tanstack/react-query\";\nimport { useChipiContext } from \"../context\";\nimport { WithdrawParams } from \"../../core\";\n\n\n\n\nexport function useWithdraw() {\n  const { chipiSDK } = useChipiContext();\n\n  const mutation = useMutation({\n    mutationFn: (params: WithdrawParams) => chipiSDK.withdraw(params),\n  });\n\n  return {\n    withdraw: mutation.mutate,\n    withdrawAsync: mutation.mutateAsync,\n    withdrawData: mutation.data,\n    isLoading: mutation.isPending,\n    isError: mutation.isError,\n  };\n}","import { useMutation } from \"@tanstack/react-query\";\nimport { useChipiContext } from \"../context\";\nimport { CallAnyContractParams } from \"../../core\";\n\n\nexport function useCallAnyContract() {\n  const { chipiSDK } = useChipiContext();\n\n  const mutation = useMutation({\n    mutationFn: (params: CallAnyContractParams) => chipiSDK.callAnyContract(params),\n  });\n\n  return {\n    callAnyContract: mutation.mutate,\n    callAnyContractAsync: mutation.mutateAsync,\n    callAnyContractData: mutation.data,\n    isLoading: mutation.isPending,\n    isError: mutation.isError,\n  };\n}"]}